{% extends 'base.html' %}

{% block title %}
  {{block.super}} | Thanks
{% endblock %}

{% block content %}
  {% if type == 'fisher' or type == 'ware' %}
    <h3>{{type|capfirst }} Residents</h3>
  {% else %}
    <h3>Pay with {{ type }}</h3>
  {% endif %}
  <hr>
  {% if type == 'bursar' or type == 'penncash' %}
    <p>
      Please input the last two digits of your PennCard to pay with bursar.
    </p>
    <form action='.' method='POST' class='form-inline'>{% csrf_token %}
      <div class="input-prepend span2">
        <span class="add-on">{{penncard}}</span>
        <input type='text' class='input-mini'
          value='00' maxlength='2'
          name='last_two' id='last_two'>
      </div>
      
      <input type='text' style='display:none;'
        value='{{type}}' name='type' id='type'>
      <input type='submit' value='Pay' class='btn btn-primary'>
    </form>
    <div class="validation-container"></div>
  {% endif %}
  
  {% ifequal type 'cash' %}
    <p>If you haven't already paid, be sure to pay with cash at the PSA Store (in Williams, across from Houston Hall). Remember to bring your change for the tax man!</p>
  {% endifequal %}

  {% ifequal type 'fisher' %}
    <p>You can now start checking out bikes at any of our <a href="/locations">locations</a>. Fisher's bikes can be checked out at the Fisher house office. Happy cycling!</p>
  {% endifequal %}

  {% ifequal type 'ware' %}
    <p>You can now start checking out bikes at any of our <a href="/locations">locations</a>. Ware's bikes can be checked out at the Ware house office or from any RA or GA. Happy cycling!</p>
  {% endifequal %}
{% endblock %}

{% block scripts %}
  <script src="/media/js/jquery.validate.js" type="text/javascript"></script>
  <script type="text/javascript">
    $(function() {
      $('#last_two').validate({
        expression: "if (VAL.match(/^[0-9]{2}$/)) return true; else return false;",
        message: "Please enter a 2-digit number. ",
      });
    });
  </script>
{% endblock %}